<div class="checklist">
  <div class="header">
    <div class="icon">
      <ui-icon [icon]="Icons.CheckSquare"></ui-icon>
    </div>
    <div class="list-name">{{ checklist.name }}</div>
    <ui-button className="btn" (click)="closeMenu.onToggle($event)">Delete</ui-button>
    <ui-menu #closeMenu [title]="'Delete checklist?'" class="d-none">
      <div>Deleting a checklist is permanent and there is no way to get it back.</div>
      <ui-button className="danger width-10 mt-2" (click)="onDeleteChecklist(checklist); closeMenu.onHide()">Delete
        checklist</ui-button>
    </ui-menu>
  </div>
  <div class="progress">
    <div class="value">{{progress}}%</div>
    <ui-progress [value]="progress"></ui-progress>
  </div>
  <div class="items mt-2">
    <div *ngFor="let item of checklist.items" class="mt-1">{{ item.title }}</div>
  </div>
  <ng-container *ngIf="createMode">
    <div>
      <input type="text" class="mt-1" #itemName>
      <div>
        <ui-button className="primary width-2 mt-2" (click)="onSubmitItem(itemName.value)">Add</ui-button>
        <ui-button className="icon no-hover" [icon]="Icons.Times" (click)="createMode = false"></ui-button>
      </div>
    </div>
  </ng-container>
  <ui-button *ngIf="!createMode" className="btn width-3 mt-1" (click)="onAddItem()">Add an item</ui-button>
</div>
